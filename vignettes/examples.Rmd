---
title: "Examples"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Examples}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

This vignette compiles a variety of examples, most taken straight from [Stack Overflow](https://stackoverflow.com/). When possible, I will link the source of the example. To run any of the examples (i.e. copy/paste), load the following package:

```{r setup, message=FALSE}
library(RVerbalExpressions)
```

## Extract all words after a specific tag

In this example, we want to extract every word that comes after a @, including the @. To do this, we will:

```{r}
string <- "nowy commit, nowa przygoda @OSKI @data2 @pankote testujemy kod @oski2"

x <- find(value = "@") %>% 
  range(c("a", "z", 0, 9)) %>% 
  one_or_more() %>% 
  with_any_case()

x

# base R approach
unlist(regmatches(string, gregexpr(x, string)))

# stringr approach
# stringr::str_extract_all(string, x)
```

1. First, `find` the @ tag
2. Second, match a `range` of characters, a through z and 0 through 9
3. Third, match `one_or_more` characters in the range
4. Fourth, match `with_any_case` thereby enabling case insensitive matching

Source: https://stackoverflow.com/questions/31105862

## Remove everything after a specific character

In this example, we want to remove everything after the _last_ period. For example, NM.020506.1 should give us NM.020506:

```{r}
string <- c("NM_020506.1", 
            "NM_020519.1", 
            "NM_001030297.2", 
            "NM_010281.2", 
            "NM_011419.3", 
            "NM.053155.2")  

x <- find(value = ".") %>% 
  anything_but(".") %>% 
  end_of_line()

x

# base R approach
gsub(x, "", string)

# stringr approach
# stringr::str_remove(string, x)
```

1. First, `find` the period
2. Second, match `anything_but` a period
3. Third, enable `end_of_line` behavior to ensure we grab the last period
4. Fourth, use `gsub` to replace `anything` we found after the last period with an empty character

Source: https://stackoverflow.com/questions/10617702

